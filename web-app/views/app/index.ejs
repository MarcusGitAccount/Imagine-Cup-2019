<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="/assets/styles/index.css">
  <title>Application</title>
  <style>
    #chart {
      max-height: 50vh;
      max-width: 50vw;
    }
  </style>
</head>
<body>
  <% include ../includes/navbar %>
  <% include ../includes/notifications %>
  <% include ../includes/greet %>

  <div class="center">
    <canvas id="chart" width="800" height="500">
      <p>Your browser doesn't support the canvas element and its functionality.</p>
    </canvas>
  </div>

  <span id="errors"></span>
  <span id="data"></span>

  <div id="create-session" style="background-color: #e0e0e0">
    <br>
    <div id="session-controls">
      <h3>Create a new session</h3>
      <p>Choose a child from the list to monitor his/her pulse and name your session.</p>
      <br> 
      <select id="select-child"></select>
      <input type="text" id="session-name" placeholder="Enter session name">
      <button id="ping-device" title="Ping child's device to see if it works">Ping device</button> 

      <p>It it recommended to first check if the device is connected. To do this just simply ping it.</p>
      <span>
        Ping status: <span id="session-ping-status">unchecked.</span>
      </span>
    </div>

    <button id="start-simulation">Start simulation.</button>
    <button id="stop-simulation" class="hidden">Stop simulation.</button>
    <br><br>
  </div>

  <a href="/auth/logout">Logout</a>
  
  <% include ../includes/footer %>

  <script src="/assets/js/libs/chart.bundle.min.js"></script>
  <script src="/assets/js/libs/moment.min.js"></script>
  <script src="/assets/js/libs/chartjs-plugin-streaming.min.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="/assets/js/client/session/init.js"></script>
  <script src="/assets/js/client/session/stream.js"></script>
  <script src="/assets/js/client/session/chart.js"></script>
</body>
</html>